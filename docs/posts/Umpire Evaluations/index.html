<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matthew Goodsell">
<meta name="dcterms.date" content="2023-04-01">

<title>Blog - It all evens out … until it doesn’t</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">It all evens out … until it doesn’t</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
                                <div class="quarto-categories">
                <div class="quarto-category">Baseball</div>
                <div class="quarto-category">Analytics</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Matthew Goodsell </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 1, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell">

</div>
<p>I had the privilege of attending the SABRmetrics conference in Phoenix, Arizona this past March. While It was nice enjoying the warm weather compared to Rexburg, Idaho it was inspiring to be around many others who share a similar love for analytics I learned much and got to speak to some great people. I was privileged to have my university (Brigham Young University - Idaho) pay for the trip which I attended with two professor and two other students. We, as students, agreed to present on something when we got back.</p>
<p>One Professor informed me of the Mathematical Association of America Conference in St.&nbsp;George, Utah as an option to do our presentation there. Agreeing it would be a great opportunity for use to present at a conference we decided to present down in St.&nbsp;George. From the SABRmetric conference we were inspired by the Diamond Dollars competition (https://sabr.org/analytics/case) focused on analyzing the impact of missed calls in a couple of games from the 2022 season, we wanted to shift our focus to the impact of missed calls over an entire season.</p>
<section id="our-abstract" class="level4">
<h4 class="anchored" data-anchor-id="our-abstract">Our Abstract</h4>
<p>In sports, teams often win or lose a game by the smallest of margins. In speaking of officiating, coaches frequently say that “Bad calls even out in the end.” Is this true for missed calls in Major League Baseball across an entire season? We take a look at the 2022 MLB season and use statcast data to model how poor officiating affects the expected runs per plate appearance. We discuss how an accumulation of missed calls affect season standings and playoff matchups.</p>
</section>
<section id="maa-conference" class="level4">
<h4 class="anchored" data-anchor-id="maa-conference">MAA conference</h4>
<p>The conference was small, well smaller in respect to the SABRmetric conference. I enjoyed listening to presentations and seeing some applications of data science and mathematics through them. Driving from Rexburg to St.&nbsp;George is an 8 hour trip and thankfully I got to split it up by stopping half-way near Salt Lake City to be with family. The 8 hour trip certainly gave me a lot of time to think, but it is a beautiful drive down though.</p>
<p>With the SABRmetric conference ending on March 12th and the abstract for the MAA conference due the 15th we had a quick turn around to decide on a project and a short timetable to finish the project as the MAA conference was on March 25th.</p>
</section>
<section id="methodology" class="level1">
<h1>Methodology</h1>
<p>We got our data from Statcast for the whole regular 2022 season. Our first step was to use a column in statcast labeled “zone” and identify missed calls. Numbers 1-9 are in the strike zone while 11-14 our outside (yes, they skipped the number 10). We set a threshold to only work with missed calls which happened when there was a plate appearance that affected the win probably of the game by .05 in the positive or negative direction. The column was only a measurement for the home team. For those at bats, we used the Run Expectancy 24, also n as RE24, (https://library.fangraphs.com/misc/re24/) values to determine the Run expectancy of the at bat. We used this run expectancy to analyze how the missed call affected the run expectancy of the at bat to measure the impact the Umpire had on potential runs scored thus, allowing us to see if the missed calls affected the final score in a way to reverse the outcome. RE24 is an Expected value for how the 24 difference situations based on how many runners are on base and the number of outs in the inning at the time of the at bat.</p>
<p>The Formula for RE24 is:</p>
<p><span class="math display">\[
\text{RE24} = \text{RE End State} - \text{RE Beginning State} + \text{Runs Scored}
\]</span></p>
<p>This metric can be used to measure the performance of a pitcher or hitter by allowing us to capture the number of runs created (for a batter) or runs not created (for a pitcher). From the article, “Since Run expectancy tells you the number of expected runs, any number of runs created above or below that value can be treated as runs above or below average for the batter or pitcher depending on the outcome of each plate appearance.”</p>
<p>For example, take a given at bat where there are 0 runners on base and 0 outs. The Run expectancy is 0.461. Let’s say the player hits a home run. That player will be created for creating one run. As the end state of the plate appearance is same as the beginning.</p>
<p><span class="math display">\[
\text{RE24} = \text{0.461} - \text{0.461} + \text{1} = 1
\]</span></p>
<p>We wanted to avoid the butterfly affect by staying within the scope of that plate appearance that contained a missed call. As baseball is a discrete sport compared to a game like soccer which is continuous, there are many situations that can happen. With our short time we made the decision to avoid taking into account certain situations while leaving others out. This meant that we simply looked at how the umpires missed call changed the run expectancy at the end of the plate appearance.</p>
<p>We then take RE24 and adjust it to a game rather than an at bat. So the formula now looks like:</p>
<p><span class="math display">\[
\text{Game RE} = \text{True Final Score} - \text{Change in RE (adjusted at end of at bat)} + \text{RE at start of plate appearance}
\]</span> We sum up the changes in those per plate plate appearance in a game. By keeping the RE at the start of the plate appearance we allow ourselves to stay in the scope of the plate appearance to see how that missed call affected that plate appearance. One thing to notice is that we do not do an absolute value around the “Change in RE.” Consequently, if the change is a negative number it will result in a positive addition to the final score as two negatives will make a positive. This accurately gives back or takes away from the final score the appropriate number. If the change in run expectancy was positive due to the missed call then this should be taken away from the score.</p>
<p>More data wrangling was needed to ensure complete accuracy of numbers by properly identifying and differentiating from double headers of which my classmate was able to code up. I will not go into the details of how he did that, even though it would cool to look at, as this is to focus on the methodology.</p>
<p>We get the adjusted score for the home and away team and detect if a change was made. Summing up the results over a season we are able to get an adjusted season record and apply a rank to both the true record (the historical record) and the adjusted record enabling the creation of a slope chart to see the affect of missed calls on a teams record.</p>
</section>
<section id="findings" class="level1">
<h1>Findings</h1>
<p>The results are very interesting.</p>
<p><img src="National_league_standings_slope_chart.png" class="img-fluid"></p>
<p>We see that in the National League there is a lot shift. It shifts the seedings in the playoffs. Most noteworthy shift is Philly and San Diego. Philly made it all the way to the World Series where they eventually lost, but who knows how they would have done with a different path. Same holds for any team.</p>
<p><img src="american_league_standings_slope_chart.png" class="img-fluid"></p>
<p>Here there is a bigger shift in the playoff with Cleveland falling from the fourth to the sixth seed. There is a lot more shifting in the bottom teams as well.</p>
<p>Any shift has significant impacts as teams draft orders will change and that has big impact on decision making and could be the difference between drafting a player who helps the franchise for years to come. Not to mention how it affects the player individually.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Our driving question was, “Does an umpires missed calls affect season’s standings or does it even out in the end?” From the visuals above we can conclude, it does have an affect.</p>
</section>
<section id="disclaimer" class="level1">
<h1>Disclaimer</h1>
<p>I do not have a strong option on Robo umpires calling balls and strikes. We recognize our methodology has flaws and can be improved upon.</p>
</section>
<section id="more-visuals" class="level1">
<h1>More visuals</h1>
<p><img src="national_league_win_difference.png" class="img-fluid"></p>
<p><img src="american_league_win_difference.png" class="img-fluid"></p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "It all evens out ... until it doesn't"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Matthew Goodsell"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2023-04-01"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="an">draft:</span><span class="co"> True</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> [Baseball, Analytics]</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="an">freeze:</span><span class="co"> True</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">  html: </span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, echo=FALSE}</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">message =</span> <span class="cn">FALSE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>I had the privilege of attending the SABRmetrics conference in Phoenix, Arizona this past March. While It was nice enjoying the warm weather compared to Rexburg, Idaho it was inspiring to be around many others who share a similar love for analytics I learned much and got to speak to some great people. I was privileged to have my university (Brigham Young University - Idaho) pay for the trip which I attended with two professor and two other students. We, as students, agreed to present on something when we got back. </span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>One Professor informed me of the Mathematical Association of America Conference in St. George, Utah as an option to do our presentation there. Agreeing it would be a great opportunity for use to present at a conference we decided to present down in St. George. From the SABRmetric conference we were inspired by the Diamond Dollars competition (https://sabr.org/analytics/case) focused on analyzing the impact of missed calls in a couple of games from the 2022 season, we wanted to shift our focus to the impact of missed calls over an entire season. </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Our Abstract</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>In sports, teams often win or lose a game by the smallest of margins. In speaking of officiating, coaches frequently say that "Bad calls even out in the end." Is this true for missed calls in Major League Baseball across an entire season? We take a look at the 2022 MLB season and use statcast data to model how poor officiating affects the expected runs per plate appearance. We discuss how an accumulation of missed calls affect season standings and playoff matchups.</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">#### MAA conference</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>The conference was small, well smaller in respect to the SABRmetric conference. I enjoyed listening to presentations and seeing some applications of data science and mathematics through them. Driving from Rexburg to St. George is an 8 hour trip and thankfully I got to split it up by stopping half-way near Salt Lake City to be with family. The 8 hour trip certainly gave me a lot of time to think, but it is a beautiful drive down though. </span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>With the SABRmetric conference ending on March 12th and the abstract for the MAA conference due the 15th we had a quick turn around to decide on a project and a short timetable to finish the project as the MAA conference was on March 25th. </span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="fu"># Methodology</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>We got our data from Statcast for the whole regular 2022 season. Our first step was to use a column in statcast labeled "zone" and identify missed calls. Numbers 1-9 are in the strike zone while 11-14 our outside (yes, they skipped the number 10). We set a threshold to only work with missed calls which happened when there was a plate appearance that affected the win probably of the game by .05 in the positive or negative direction. The column was only a measurement for the home team. For those at bats, we used the Run Expectancy 24, also n as RE24, (https://library.fangraphs.com/misc/re24/) values to determine the Run expectancy of the at bat. We used this run expectancy to analyze how the missed call affected the run expectancy of the at bat to measure the impact the Umpire had on potential runs scored thus, allowing us to see if the missed calls affected the final score in a way to reverse the outcome. RE24 is an Expected value for how the 24 difference situations based on how many runners are on base and the number of outs in the inning at the time of the at bat. </span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>The Formula for RE24 is: </span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>\text{RE24} = \text{RE End State} - \text{RE Beginning State} + \text{Runs Scored}</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>This metric can be used to measure the performance of a pitcher or hitter by allowing us to capture the number of runs created (for a batter) or runs not created (for a pitcher). From the article, "Since Run expectancy tells you the number of expected runs, any number of runs created above or below that value can be treated as runs above or below average for the batter or pitcher depending on the outcome of each plate appearance."</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>For example, take a given at bat where there are 0 runners on base and 0 outs. The Run expectancy is 0.461. Let's say the player hits a home run. That player will be created for creating one run. As the end state of the plate appearance is same as the beginning.</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>$$ </span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>\text{RE24} = \text{0.461} - \text{0.461} + \text{1} = 1</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>$$ </span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>We wanted to avoid the butterfly affect by staying within the scope of that plate appearance that contained a missed call. As baseball is a discrete sport compared to a game like soccer which is continuous, there are many situations that can happen. With our short time we made the decision to avoid taking into account certain situations while leaving others out. This meant that we simply looked at how the umpires missed call changed the run expectancy at the end of the plate appearance. </span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>We then take RE24 and adjust it to a game rather than an at bat. So the formula now looks like: </span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>\text{Game RE} = \text{True Final Score} - \text{Change in RE (adjusted at end of at bat)} + \text{RE at start of plate appearance}</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>We sum up the changes in those per plate plate appearance in a game. By keeping the RE at the start of the plate appearance we allow ourselves to stay in the scope of the plate appearance to see how that missed call affected that plate appearance. One thing to notice is that we do not do an absolute value around the "Change in RE." Consequently, if the change is a negative number it will result in a positive addition to the final score as two negatives will make a positive. This accurately gives back or takes away from the final score the appropriate number. If the change in run expectancy was positive due to the missed call then this should be taken away from the score.</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>More data wrangling was needed to ensure complete accuracy of numbers by properly identifying and differentiating from double headers of which my classmate was able to code up. I will not go into the details of how he did that, even though it would cool to look at, as this is to focus on the methodology. </span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>We get the adjusted score for the home and away team and detect if a change was made. Summing up the results over a season we are able to get an adjusted season record and apply a rank to both the true record (the historical record) and the adjusted record enabling the creation of a slope chart to see the affect of missed calls on a teams record.</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="fu"># Findings</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>The results are very interesting. </span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="al">![](National_league_standings_slope_chart.png)</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>We see that in the National League there is a lot shift. It shifts the seedings in the playoffs. Most noteworthy shift is Philly and San Diego. Philly made it all the way to the World Series where they eventually lost, but who knows how they would have done with a different path. Same holds for any team.</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a><span class="al">![](american_league_standings_slope_chart.png)</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>Here there is a bigger shift in the playoff with Cleveland falling from the fourth to the sixth seed. There is a lot more shifting in the bottom teams as well.</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>Any shift has significant impacts as teams draft orders will change and that has big impact on decision making and could be the difference between drafting a player who helps the franchise for years to come. Not to mention how it affects the player individually.</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="fu"># Conclusion </span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>Our driving question was, "Does an umpires missed calls affect season's standings or does it even out in the end?" From the visuals above we can conclude, it does have an affect.</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a><span class="fu"># Disclaimer</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>I do not have a strong option on Robo umpires calling balls and strikes. We recognize our methodology has flaws and can be improved upon.</span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a><span class="fu"># More visuals</span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a><span class="al">![](national_league_win_difference.png)</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a><span class="al">![](american_league_win_difference.png)</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>